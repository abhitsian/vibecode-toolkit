# Bug Report - 2026-01-02T21:30:45.123Z

## Description

Login button doesn't work - returns 401 error

## Screenshot

![Screenshot](.vibe/vibe-capture-1704226245123.png)

Path: `.vibe/vibe-capture-1704226245123.png`

## Git Context

- **Branch:** `feature/user-auth`
- **Commit:** `a3f2b1c`
- **Has Changes:** âœ“ Yes

### Recent Commits

```
a3f2b1c Add login form validation
b7e9c4d Update API endpoint configuration
c1d5a2e Fix typo in auth middleware
d8f3e6b Initial auth implementation
e2c7b4a Setup authentication routes
```

### Git Status

```
M src/components/LoginForm.tsx
M src/services/auth.ts
?? src/utils/validation.ts
```

### Uncommitted Changes

```diff
diff --git a/src/components/LoginForm.tsx b/src/components/LoginForm.tsx
index 1234567..abcdefg 100644
--- a/src/components/LoginForm.tsx
+++ b/src/components/LoginForm.tsx
@@ -10,7 +10,7 @@ export function LoginForm() {
   const handleSubmit = async (e: FormEvent) => {
     e.preventDefault();
     try {
-      const response = await login(email, password);
+      const response = await authService.login(email, password);
       if (response.ok) {
         navigate('/dashboard');
       }
@@ -25,6 +25,7 @@ export function LoginForm() {
         <input
           type="email"
           value={email}
+          required
           onChange={(e) => setEmail(e.target.value)}
         />
         <input

diff --git a/src/services/auth.ts b/src/services/auth.ts
index 7891011..fedcba9 100644
--- a/src/services/auth.ts
+++ b/src/services/auth.ts
@@ -5,7 +5,7 @@ export const authService = {
   async login(email: string, password: string) {
     const response = await fetch('/api/login', {
       method: 'POST',
-      headers: { 'Content-Type': 'application/json' },
+      headers: { 'Content-Type': 'application/json', 'X-Api-Version': '2' },
       body: JSON.stringify({ email, password }),
     });
     return response;
```

## Browser Console Errors

```
POST https://api.example.com/api/login 401 (Unauthorized)
Error: Authentication failed
    at authService.login (auth.ts:15)
    at LoginForm.handleSubmit (LoginForm.tsx:13)

Failed to load resource: the server responded with a status of 401
```

## Browser Context

- **URL:** http://localhost:3000/login

### Network Errors

- POST /api/login - 401 Unauthorized
- GET /api/user/profile - 401 Unauthorized

## System Info

- **Platform:** darwin
- **Architecture:** arm64
- **Node:** v20.10.0
- **Bun:** 1.3.5

---

*Generated by VibeDev Toolkit*
